<app-header></app-header>

<div class="hero_area">
    <div class="container">
        <div class="hero_content">
            <h1>Publicar <span>Notícia</span></h1>
            <p>Divulgue eventos, avisos e comunicados importantes.</p>
        </div>
    </div>
</div>

<div class="main-container container">
    <div class="form-wrapper">
        <mat-card class="custom-card">
            <div class="card-header">
                <mat-icon>campaign</mat-icon>
                <h3>Nova Publicação</h3>
            </div>

            <form [formGroup]="form" (ngSubmit)="onSubmit()">

                <div class="row">
                    <!-- TÍTULO -->
                    <div class="col-md-8">
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Título do Evento/Notícia</mat-label>
                            <input matInput formControlName="titulo" placeholder="Ex: REUNIÃO DE PAIS" maxlength="100">
                            <mat-icon matSuffix>title</mat-icon>
                            <mat-error *ngIf="form.get('titulo')?.hasError('required')">Título obrigatório</mat-error>
                        </mat-form-field>
                    </div>

                    <!-- DATA -->
                    <div class="col-md-4">
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Data do Evento</mat-label>
                            <input matInput [matDatepicker]="picker" formControlName="data">
                            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                            <mat-error *ngIf="form.get('data')?.hasError('required')">Data obrigatória</mat-error>
                        </mat-form-field>
                    </div>
                </div>

                <!-- CONTEÚDO -->
                <mat-form-field appearance="outline" class="w-100 mt-2">
                    <mat-label>Conteúdo da Notícia</mat-label>
                    <textarea matInput formControlName="conteudo" rows="6"
                        placeholder="Descreva os detalhes do evento ou aviso..."></textarea>
                    <mat-error *ngIf="form.get('conteudo')?.hasError('required')">Conteúdo obrigatório</mat-error>
                    <mat-error *ngIf="form.get('conteudo')?.hasError('minlength')">Detalhe um pouco mais (mínimo 10
                        letras)</mat-error>
                </mat-form-field>

                <div class="actions">
                    <button mat-raised-button class="btn-publish" [disabled]="form.invalid || isSaving()">
                        <mat-spinner diameter="20" *ngIf="isSaving()"></mat-spinner>
                        <span *ngIf="!isSaving()">PUBLICAR NO MURAL</span>
                        <mat-icon *ngIf="!isSaving()">send</mat-icon>
                    </button>
                </div>

            </form>
        </mat-card>
    </div>
</div>

<app-footer></app-footer>